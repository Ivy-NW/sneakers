<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SneakerVerify - Blockchain Authentication</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #00c9a7;
            --secondary: #845ec2;
            --accent: #ff6f91;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --dark: #121212;
            --darker: #0a0a0a;
            --darkest: #050505;
            --light: #f5f5f7;
            --text-dark: #2d3436;
            --text-light: #f5f5f7;
            --border-radius: 16px;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        .dark-mode {
            --primary: #00c9a7;
            --secondary: #9b59b6;
            --accent: #ff6f91;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --dark: #0a0a0a;
            --darker: #050505;
            --darkest: #000000;
            --light: #1a1a1a;
            --text-dark: #f5f5f7;
            --text-light: #dfe6e9;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', sans-serif;
            transition: var(--transition);
        }

        body {
            background-color: var(--light);
            color: var(--text-dark);
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 201, 167, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(132, 94, 194, 0.05) 0%, transparent 20%);
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            z-index: -1;
            opacity: 0.5;
        }

        .dark-mode body {
            background-color: var(--dark);
            color: var(--text-light);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 201, 167, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(132, 94, 194, 0.05) 0%, transparent 20%);
        }

        .dark-mode body::before {
            background: 
                url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: fixed;
            width: 100%;
            z-index: 1000;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dark-mode header {
            background: rgba(10, 10, 10, 0.8);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo-icon {
            font-size: 1.8rem;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }

        nav a {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            position: relative;
            padding: 0.5rem 0;
        }

        .dark-mode nav a {
            color: var(--text-light);
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.3s ease;
        }

        nav a:hover::after {
            width: 100%;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            color: var(--text-dark);
            padding: 0.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease;
        }

        .dark-mode .theme-toggle {
            color: var(--text-light);
        }

        .theme-toggle:hover {
            transform: rotate(30deg);
        }

        main {
            padding: 7rem 2rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        section {
            margin-bottom: 3rem;
        }

        .hero {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 3rem 0;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 0%,
                rgba(0, 201, 167, 0.05) 50%,
                transparent 100%
            );
            transform: rotate(45deg);
            animation: shine 10s infinite linear;
            pointer-events: none;
        }

        @keyframes shine {
            0% {
                top: -100%;
                left: -100%;
            }
            100% {
                top: 100%;
                left: 100%;
            }
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
        }

        .hero h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 3px;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin-bottom: 2rem;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border-radius: var(--border-radius);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-decoration: none;
            display: inline-block;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            z-index: -1;
        }

        .btn:hover::before {
            transform: translateX(0);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .dark-mode .btn-outline {
            border-color: var(--text-light);
            color: var(--text-light);
        }

        .sneaker-card {
            position: relative;
            width: 300px;
            height: 200px;
            margin: 3rem auto;
            perspective: 1000px;
        }

        .sneaker-3d {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            animation: rotate 20s infinite linear;
        }

        @keyframes rotate {
            0% {
                transform: rotateY(0deg) rotateX(15deg);
            }
            100% {
                transform: rotateY(360deg) rotateX(15deg);
            }
        }

        .sneaker-3d div {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
            backface-visibility: visible;
        }

        .front {
            transform: translateZ(50px);
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        .back {
            transform: rotateY(180deg) translateZ(50px);
            background: linear-gradient(135deg, var(--secondary), var(--primary));
        }

        .left {
            transform: rotateY(-90deg) translateZ(150px);
            width: 100px;
            background: linear-gradient(135deg, var(--primary), var(--warning));
        }

        .right {
            transform: rotateY(90deg) translateZ(150px);
            width: 100px;
            background: linear-gradient(135deg, var(--warning), var(--primary));
        }

        .top {
            transform: rotateX(90deg) translateZ(100px);
            height: 100px;
            background: linear-gradient(135deg, var(--secondary), var(--success));
        }

        .bottom {
            transform: rotateX(-90deg) translateZ(100px);
            height: 100px;
            background: linear-gradient(135deg, var(--success), var(--secondary));
        }

        .process-steps {
            display: flex;
            justify-content: space-between;
            margin: 4rem 0;
            position: relative;
        }

        .process-steps::before {
            content: '';
            position: absolute;
            top: 40px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            z-index: -1;
        }

        .process-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            width: 150px;
        }

        .step-number {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .step-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--box-shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dark-mode .feature-card {
            background: rgba(26, 26, 26, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .feature-card:hover {
            transform: translateY(-10px);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .feature-card h3 {
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .authentication-form {
            max-width: 700px;
            margin: 0 auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .dark-mode .authentication-form {
            background: rgba(26, 26, 26, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .authentication-form::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 0%,
                rgba(255, 255, 255, 0.05) 50%,
                transparent 100%
            );
            transform: rotate(45deg);
            animation: shine 5s infinite linear;
            pointer-events: none;
        }

        .form-group {
            margin-bottom: 1.5rem;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.8rem 1rem;
            border-radius: var(--border-radius);
            border: 1px solid rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .dark-mode .form-control {
            background: rgba(15, 14, 23, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 201, 167, 0.2);
            transform: translateY(-2px);
        }

        .upload-area {
            border: 2px dashed rgba(0, 0, 0, 0.1);
            border-radius: var(--border-radius);
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dark-mode .upload-area {
            border-color: rgba(255, 255, 255, 0.1);
        }

        .upload-area:hover {
            border-color: var(--primary);
            background: rgba(0, 201, 167, 0.05);
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .payment-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .payment-option {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dark-mode .payment-option {
            background: rgba(26, 26, 26, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .payment-option:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow);
        }

        .payment-option.active {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 201, 167, 0.2);
        }

        .payment-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
        }

        .dark-mode .stat-card {
            background: rgba(26, 26, 26, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-dark);
            opacity: 0.8;
        }

        .dark-mode .stat-label {
            color: var(--text-light);
        }

        .authentication-history {
            margin-top: 2rem;
        }

        .history-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .dark-mode .history-item {
            background: rgba(26, 26, 26, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .history-item:hover {
            transform: translateY(-3px);
            box-shadow: var(--box-shadow);
        }

        .history-details h4 {
            margin-bottom: 0.5rem;
        }

        .history-status {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-pending {
            background-color: var(--warning);
            color: var(--dark);
        }

        .status-verified {
            background-color: var(--success);
            color: white;
        }

        .status-rejected {
            background-color: var(--danger);
            color: white;
        }

        .certificate-viewer {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
        }

        .dark-mode .certificate-viewer {
            background: rgba(26, 26, 26, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .certificate-viewer::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 0%,
                rgba(255, 255, 255, 0.1) 50%,
                transparent 100%
            );
            transform: rotate(45deg);
            animation: shine 3s infinite linear;
            pointer-events: none;
        }

        .certificate-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .certificate-header h3 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .certificate-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .certificate-detail {
            margin-bottom: 1rem;
        }

        .certificate-detail label {
            display: block;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
            opacity: 0.8;
        }

        .certificate-detail p {
            font-weight: 600;
        }

        .certificate-images {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .certificate-image {
            border-radius: var(--border-radius);
            overflow: hidden;
            height: 150px;
            position: relative;
        }

        .certificate-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .certificate-image:hover img {
            transform: scale(1.05);
        }

        .blockchain-info {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .dark-mode .blockchain-info {
            border-top-color: rgba(255, 255, 255, 0.1);
        }

        .blockchain-info h4 {
            margin-bottom: 1rem;
        }

        .blockchain-data {
            background: rgba(0, 0, 0, 0.05);
            padding: 1rem;
            border-radius: var(--border-radius);
            font-family: monospace;
            overflow-x: auto;
        }

        .dark-mode .blockchain-data {
            background: rgba(0, 0, 0, 0.2);
        }

        .qr-code {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
        }

        .qr-code img {
            width: 150px;
            height: 150px;
            border-radius: var(--border-radius);
            padding: 0.5rem;
            background: white;
            transition: transform 0.3s ease;
        }

        .qr-code img:hover {
            transform: scale(1.1);
        }

        .verification-seal {
            text-align: center;
            margin-top: 2rem;
        }

        .seal-icon {
            font-size: 3rem;
            color: var(--success);
            margin-bottom: 0.5rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .seal-text {
            font-weight: 600;
            color: var(--success);
        }

        /* Glassmorphism effect */
        .glassmorphic {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .dark-mode .glassmorphic {
            background: rgba(26, 26, 26, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Neumorphism effect */
        .neumorphic {
            background: var(--light);
            border-radius: var(--border-radius);
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.1),
                -8px -8px 16px rgba(255, 255, 255, 0.7);
        }

        .dark-mode .neumorphic {
            background: var(--dark);
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.3),
                -8px -8px 16px rgba(255, 255, 255, 0.05);
        }

        /* Edge glowing effect */
        .edge-glow {
            position: relative;
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .edge-glow::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent), var(--warning), var(--success));
            z-index: -1;
            border-radius: calc(var(--border-radius) + 2px);
            animation: border-animation 3s linear infinite;
        }

        @keyframes border-animation {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        /* Liquid holographic metallic effect */
        .liquid-holo {
            position: relative;
            overflow: hidden;
            border-radius: var(--border-radius);
        }

        .liquid-holo::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                135deg,
                rgba(0, 201, 167, 0.5),
                rgba(132, 94, 194, 0.5),
                rgba(255, 111, 145, 0.5)
            );
            filter: blur(10px);
            opacity: 0.7;
            mix-blend-mode: overlay;
            animation: liquid-animation 8s ease infinite;
        }

        @keyframes liquid-animation {
            0% {
                background-position: 0% 0%;
            }
            50% {
                background-position: 100% 100%;
            }
            100% {
                background-position: 0% 0%;
            }
        }

        /* Modal styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            box-shadow: var(--box-shadow);
            transform: translateY(20px);
            transition: transform 0.3s ease;
            position: relative;
        }

        .dark-mode .modal {
            background: var(--dark);
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-dark);
        }

        .dark-mode .modal-close {
            color: var(--text-light);
        }

        .modal-header {
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .modal-header h3 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .tab-container {
            margin-bottom: 1.5rem;
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
        }

        .dark-mode .tabs {
            border-bottom-color: rgba(255, 255, 255, 0.1);
        }

        .tab {
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            font-weight: 500;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .tab.active {
            border-bottom-color: var(--primary);
            color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Credit packages */
        .credit-packages {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .credit-package {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dark-mode .credit-package {
            background: rgba(26, 26, 26, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .credit-package:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow);
        }

        .credit-package.active {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 201, 167, 0.2);
        }

        .credit-package::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .credit-package.active::before {
            opacity: 1;
        }

        .credit-amount {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .credit-price {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .credit-discount {
            font-size: 0.9rem;
            color: var(--accent);
            font-weight: 500;
        }

        /* User profile */
        .user-profile {
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            position: relative;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .user-name {
            font-weight: 500;
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--light);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 1rem;
            min-width: 200px;
            z-index: 100;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .dark-mode .user-dropdown {
            background: var(--dark);
        }

        .user-dropdown.active {
            display: block;
        }

        .user-dropdown-item {
            padding: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: var(--border-radius);
        }

        .user-dropdown-item:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        .dark-mode .user-dropdown-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .user-dropdown-item i {
            margin-right: 0.5rem;
            width: 20px;
            text-align: center;
        }

        /* AI Analysis Section */
        .ai-analysis {
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .dark-mode .ai-analysis {
            background: rgba(26, 26, 26, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .ai-analysis-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .ai-analysis-icon {
            font-size: 2rem;
            color: var(--primary);
        }

        .ai-analysis-title {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .ai-analysis-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .ai-result-item {
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .dark-mode .ai-result-item {
            background: rgba(0, 0, 0, 0.2);
        }

        .ai-result-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .ai-result-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .ai-confidence {
            width: 100%;
            height: 10px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 5px;
            margin-top: 1rem;
            overflow: hidden;
            position: relative;
        }

        .dark-mode .ai-confidence {
            background: rgba(255, 255, 255, 0.1);
        }

        .ai-confidence-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 5px;
            transition: width 1s ease;
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            header {
                padding: 1rem;
            }

            .logo {
                font-size: 1.2rem;
            }

            nav ul {
                gap: 1rem;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            main {
                padding: 6rem 1rem 1rem;
            }

            .features {
                grid-template-columns: 1fr;
            }

            .dashboard-stats {
                grid-template-columns: 1fr;
            }

            .payment-options {
                grid-template-columns: 1fr;
            }

            .certificate-details {
                grid-template-columns: 1fr;
            }

            .process-steps {
                flex-direction: column;
                align-items: center;
                gap: 2rem;
            }

            .process-steps::before {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: var(--light);
                flex-direction: column;
                padding: 1rem;
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            }

            .dark-mode .nav-links {
                background: var(--dark);
            }

            .nav-links.active {
                display: flex;
            }

            nav ul {
                flex-direction: column;
            }
        }

        /* Page transitions */
        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Mobile menu button */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-dark);
            cursor: pointer;
        }

        .dark-mode .mobile-menu-btn {
            color: var(--text-light);
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: var(--light);
                flex-direction: column;
                padding: 1rem;
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            }

            .dark-mode .nav-links {
                background: var(--dark);
            }

            .nav-links.active {
                display: flex;
            }
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            position: relative;
            width: 80px;
            height: 80px;
        }

        .loading div {
            position: absolute;
            top: 33px;
            width: 13px;
            height: 13px;
            border-radius: 50%;
            background: var(--primary);
            animation-timing-function: cubic-bezier(0, 1, 1, 0);
        }

        .loading div:nth-child(1) {
            left: 8px;
            animation: loading1 0.6s infinite;
        }

        .loading div:nth-child(2) {
            left: 8px;
            animation: loading2 0.6s infinite;
        }

        .loading div:nth-child(3) {
            left: 32px;
            animation: loading2 0.6s infinite;
        }

        .loading div:nth-child(4) {
            left: 56px;
            animation: loading3 0.6s infinite;
        }

        @keyframes loading1 {
            0% {
                transform: scale(0);
            }
            100% {
                transform: scale(1);
            }
        }

        @keyframes loading3 {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(0);
            }
        }

        @keyframes loading2 {
            0% {
                transform: translate(0, 0);
            }
            100% {
                transform: translate(24px, 0);
            }
        }

        /* Credit badge */
        .credit-badge {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .credit-badge i {
            font-size: 0.8rem;
        }

        /* Buy credits button */
        .buy-credits-btn {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            border: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .buy-credits-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Currency selector */
        .currency-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 1.5rem;
            gap: 1rem;
        }

        .currency-option {
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            border: 1px solid rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .dark-mode .currency-option {
            border-color: rgba(255, 255, 255, 0.1);
        }

        .currency-option.active {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            border-color: transparent;
        }

        /* NFT Certificate */
        .nft-certificate {
            position: relative;
            padding: 2rem;
            border-radius: var(--border-radius);
            background: linear-gradient(135deg, rgba(0, 201, 167, 0.1), rgba(132, 94, 194, 0.1));
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            margin-top: 2rem;
        }

        .dark-mode .nft-certificate {
            background: linear-gradient(135deg, rgba(0, 201, 167, 0.2), rgba(132, 94, 194, 0.2));
        }

        .nft-certificate::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%239C92AC' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.5;
            z-index: -1;
        }

        .nft-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .nft-header h3 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nft-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .nft-detail {
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
        }

        .dark-mode .nft-detail {
            background: rgba(0, 0, 0, 0.2);
        }

        .nft-detail-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 0.5rem;
        }

        .nft-detail-value {
            font-weight: 600;
        }

        .nft-image {
            width: 100%;
            max-width: 300px;
            margin: 2rem auto;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .nft-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Verification specific styles */
        .verification-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .dark-mode .verification-container {
            background: rgba(26, 26, 26, 0.3);
        }

        .verification-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .verification-header h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .verification-result {
            text-align: center;
            padding: 2rem;
            border-radius: var(--border-radius);
            margin-top: 2rem;
        }

        .result-authentic {
            background: rgba(46, 204, 113, 0.1);
            border: 1px solid rgba(46, 204, 113, 0.3);
        }

        .dark-mode .result-authentic {
            background: rgba(46, 204, 113, 0.2);
            border: 1px solid rgba(46, 204, 113, 0.4);
        }

        .result-fake {
            background: rgba(231, 76, 60, 0.1);
            border: 1px solid rgba(231, 76, 60, 0.3);
        }

        .dark-mode .result-fake {
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid rgba(231, 76, 60, 0.4);
        }

        .hidden {
            display: none;
        }

        .upload-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .upload-box {
            border: 2px dashed rgba(0, 0, 0, 0.1);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .dark-mode .upload-box {
            border-color: rgba(255, 255, 255, 0.1);
        }

        .upload-box:hover {
            border-color: var(--primary);
            background: rgba(0, 201, 167, 0.05);
        }

        .upload-box input[type="file"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        /* Multi-step authentication styles */
        .auth-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }

        .auth-steps::before {
            content: '';
            position: absolute;
            top: 25px;
            left: 0;
            width: 100%;
            height: 2px;
            background: rgba(0, 0, 0, 0.1);
            z-index: 0;
        }

        .dark-mode .auth-steps::before {
            background: rgba(255, 255, 255, 0.1);
        }

        .auth-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .step-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--light);
            border: 2px solid rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .dark-mode .step-circle {
            background: var(--dark);
            border-color: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }

        .step-circle.active {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            border-color: transparent;
            color: white;
        }

        .step-circle.completed {
            background: var(--success);
            border-color: transparent;
            color: white;
        }

        /* Profile and settings styles */
        .profile-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            font-weight: 600;
        }

        .profile-info h2 {
            margin-bottom: 0.5rem;
        }

        .profile-info p {
            opacity: 0.8;
        }

        .profile-section {
            margin-bottom: 2rem;
        }

        .profile-section h3 {
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .dark-mode .profile-section h3 {
            border-bottom-color: rgba(255, 255, 255, 0.1);
        }

        .settings-option {
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dark-mode .settings-option {
            background: rgba(0, 0, 0, 0.1);
        }

        .settings-option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .dark-mode .settings-option:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Payment method specific styles */
        .payment-method-details {
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            margin-top: 1rem;
            display: none;
        }

        .dark-mode .payment-method-details {
            background: rgba(0, 0, 0, 0.1);
        }

        .payment-method-details.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .mpesa-details, .crypto-details, .paypal-details {
            display: none;
        }

        .mpesa-details.active, .crypto-details.active, .paypal-details.active {
            display: block;
        }

        .qr-container {
            display: flex;
            justify-content: center;
            margin: 1rem 0;
        }

        .crypto-address {
            text-align: center;
            font-family: monospace;
            padding: 0.5rem;
            background: rgba(0, 0, 0, 0.05);
            border-radius: var(--border-radius);
            margin: 1rem 0;
            word-break: break-all;
        }

        .dark-mode .crypto-address {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Switch toggle */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:focus + .slider {
            box-shadow: 0 0 1px var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Progress bar */
        .progress-container {
            width: 100%;
            height: 8px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .dark-mode .progress-container {
            background: rgba(255, 255, 255, 0.1);
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* OTP verification */
        .otp-container {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin: 1.5rem 0;
        }

        .otp-input {
            width: 50px;
            height: 50px;
            text-align: center;
            font-size: 1.5rem;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: var(--border-radius);
            background: rgba(255, 255, 255, 0.8);
        }

        .dark-mode .otp-input {
            background: rgba(15, 14, 23, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }

        .otp-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 201, 167, 0.2);
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <i class="fas fa-check-circle logo-icon"></i>
            <span>SneakerVerify</span>
        </div>
        <button class="mobile-menu-btn" id="mobileMenuBtn">
            <i class="fas fa-bars"></i>
        </button>
        <nav>
            <ul class="nav-links" id="navLinks">
                <li><a href="#home" class="nav-link" data-page="home">Home</a></li>
                <li><a href="#authenticate" class="nav-link" data-page="authenticate">Authenticate</a></li>
                <li><a href="#buy-credits" class="nav-link" data-page="buy-credits">Buy Credits</a></li>
                <li><a href="#dashboard" class="nav-link" data-page="dashboard">Dashboard</a></li>
                <li><a href="#certificates" class="nav-link" data-page="certificates">Certificates</a></li>
                <li><a href="#profile" class="nav-link" data-page="profile">Profile</a></li>
            </ul>
        </nav>
        <div class="header-actions">
            <div class="credit-badge" id="creditBadge">
                <i class="fas fa-coins"></i>
                <span id="headerCredits">0</span>
            </div>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
            <div class="user-profile" id="userProfile">
                <div class="user-avatar" id="userAvatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-dropdown" id="userDropdown">
                    <div class="user-dropdown-item" id="profileBtn">
                        <i class="fas fa-user-circle"></i>
                        <span>Profile</span>
                    </div>
                    <div class="user-dropdown-item" id="settingsBtn">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </div>
                    <div class="user-dropdown-item" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <!-- Auth Page (Multi-step Authentication) -->
        <section id="auth" class="page active">
            <div class="authentication-form">
                <div class="auth-steps" id="authSteps">
                    <div class="auth-step">
                        <div class="step-circle active" id="step1Circle">1</div>
                        <div class="step-label">Account</div>
                    </div>
                    <div class="auth-step">
                        <div class="step-circle" id="step2Circle">2</div>
                        <div class="step-label">Verification</div>
                    </div>
                    <div class="auth-step">
                        <div class="step-circle" id="step3Circle">3</div>
                        <div class="step-label">Complete</div>
                    </div>
                </div>

                <!-- Step 1: Account Information -->
                <div class="auth-step-content active" id="step1Content">
                    <div class="tab-container">
                        <div class="tabs">
                            <div class="tab active" data-tab="login">Login</div>
                            <div class="tab" data-tab="register">Register</div>
                        </div>
                        <div class="tab-content active" id="login">
                            <form id="loginForm">
                                <div class="form-group">
                                    <label for="loginEmail">Email</label>
                                    <input type="email" id="loginEmail" class="form-control" placeholder="your@email.com" required>
                                </div>
                                <div class="form-group">
                                    <label for="loginPassword">Password</label>
                                    <input type="password" id="loginPassword" class="form-control" placeholder="" required>
                                </div>
                                <button type="submit" class="btn btn-primary" style="width: 100%;">Continue</button>
                            </form>
                        </div>
                        <div class="tab-content" id="register">
                            <form id="registerForm">
                                <div class="form-group">
                                    <label for="registerName">Full Name</label>
                                    <input type="text" id="registerName" class="form-control" placeholder="John Doe" required>
                                </div>
                                <div class="form-group">
                                    <label for="registerEmail">Email</label>
                                    <input type="email" id="registerEmail" class="form-control" placeholder="your@email.com" required>
                                </div>
                                <div class="form-group">
                                    <label for="registerPassword">Password</label>
                                    <input type="password" id="registerPassword" class="form-control" placeholder="" required>
                                </div>
                                <div class="form-group">
                                    <label for="registerConfirmPassword">Confirm Password</label>
                                    <input type="password" id="registerConfirmPassword" class="form-control" placeholder="" required>
                                </div>
                                <button type="submit" class="btn btn-primary" style="width: 100%;">Continue</button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Verification -->
                <div class="auth-step-content hidden" id="step2Content">
                    <h3 style="text-align: center; margin-bottom: 1.5rem;">Verify Your Account</h3>
                    <p style="text-align: center; margin-bottom: 1.5rem;">We've sent a verification code to your email. Please enter it below.</p>
                    
                    <div class="otp-container">
                        <input type="text" maxlength="1" class="otp-input" id="otp1">
                        <input type="text" maxlength="1" class="otp-input" id="otp2">
                        <input type="text" maxlength="1" class="otp-input" id="otp3">
                        <input type="text" maxlength="1" class="otp-input" id="otp4">
                        <input type="text" maxlength="1" class="otp-input" id="otp5">
                        <input type="text" maxlength="1" class="otp-input" id="otp6">
                    </div>
                    
                    <p style="text-align: center; margin-top: 1rem;">
                        <a href="#" id="resendOtp" style="color: var(--primary);">Resend Code</a>
                    </p>
                    
                    <button id="verifyOtpBtn" class="btn btn-primary" style="width: 100%; margin-top: 1.5rem;">Verify</button>
                </div>

                <!-- Step 3: Complete -->
                <div class="auth-step-content hidden" id="step3Content">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <div style="font-size: 4rem; color: var(--success); margin-bottom: 1rem;">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h3 style="margin-bottom: 1rem;">Authentication Successful</h3>
                        <p>Your account has been verified successfully.</p>
                    </div>
                    
                    <button id="completeAuthBtn" class="btn btn-primary" style="width: 100%;">Continue to Dashboard</button>
                </div>
            </div>
        </section>

        <!-- Home Page -->
        <section id="home" class="page">
            <div class="hero">
                <h1>Blockchain-Enhanced Sneaker Authentication</h1>
                <p>Verify the authenticity of your sneakers with our AI-powered, Hedera blockchain-secured authentication system.</p>
                <div>
                    <a href="#authenticate" class="btn btn-primary nav-link" data-page="authenticate">Authenticate Now</a>
                    <a href="#buy-credits" class="btn btn-outline nav-link" data-page="buy-credits">Buy Credits</a>
                </div>
            </div>

            <div class="sneaker-card">
                <div class="sneaker-3d">
                    <div class="front"><i class="fas fa-shoe-prints"></i></div>
                    <div class="back"><i class="fas fa-check-circle"></i></div>
                    <div class="left"></div>
                    <div class="right"></div>
                    <div class="top"></div>
                    <div class="bottom"></div>
                </div>
            </div>

            <div class="process-steps">
                <div class="process-step">
                    <div class="step-number">1</div>
                    <div class="step-title">Upload Photos</div>
                    <p>Take clear photos of your sneakers from multiple angles</p>
                </div>
                <div class="process-step">
                    <div class="step-number">2</div>
                    <div class="step-title">AI Analysis</div>
                    <p>Our AI system analyzes your sneakers for authenticity</p>
                </div>
                <div class="process-step">
                    <div class="step-number">3</div>
                    <div class="step-title">Expert Review</div>
                    <p>Human experts verify the AI's findings</p>
                </div>
                <div class="process-step">
                    <div class="step-number">4</div>
                    <div class="step-title">Blockchain Certificate</div>
                    <p>Receive an immutable NFT certificate on Hedera</p>
                </div>
            </div>

            <div class="features">
                <div class="feature-card glassmorphic">
                    <div class="feature-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>AI-Powered Screening</h3>
                    <p>Our advanced AI analyzes photos for inconsistencies and signs of counterfeiting, using computer vision to detect even the most subtle differences between authentic and fake sneakers.</p>
                </div>
                <div class="feature-card neumorphic">
                    <div class="feature-icon">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <h3>Expert Verification</h3>
                    <p>Two human authenticators review each submission for maximum accuracy, bringing years of experience and knowledge to ensure your sneakers are properly authenticated.</p>
                </div>
                <div class="feature-card edge-glow">
                    <div class="feature-icon">
                        <i class="fas fa-cubes"></i>
                    </div>
                    <h3>Hedera Blockchain</h3>
                    <p>Immutable digital certificates stored on the Hedera blockchain for ultimate security, providing a permanent and tamper-proof record of your sneaker's authenticity.</p>
                </div>
                <div class="feature-card liquid-holo">
                    <div class="feature-icon">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <h3>Multi-Payment Options</h3>
                    <p>Buy credits with cryptocurrency (HBAR, ETH, USDC), M-Pesa, or PayPal for global accessibility, making it easy for anyone to verify their sneakers regardless of location.</p>
                </div>
            </div>
        </section>

        <!-- Authentication Page -->
        <section id="authenticate" class="page">
            <h2>Submit for Authentication</h2>
            <p>Upload photos of your sneakers for our two-stage authentication process. Each authentication costs 2 credits.</p>

            <div class="credit-info" style="text-align: center; margin-bottom: 2rem;">
                <p>Your Credits: <span id="authPageCredits" style="font-weight: 700; color: var(--primary);">0</span></p>
                <button class="buy-credits-btn" id="buyCreditsBtn">
                    <i class="fas fa-coins"></i>
                    <span>Buy Credits</span>
                </button>
            </div>

            <form class="authentication-form" id="authForm">
                <div class="form-group">
                    <label for="sneaker-brand">Sneaker Brand</label>
                    <input type="text" id="sneaker-brand" class="form-control" placeholder="e.g., Nike, Adidas, Jordan" required>
                </div>
                <div class="form-group">
                    <label for="sneaker-model">Sneaker Model</label>
                    <input type="text" id="sneaker-model" class="form-control" placeholder="e.g., Air Jordan 1, Yeezy 350" required>
                </div>
                <div class="form-group">
                    <label for="sneaker-size">Size</label>
                    <input type="text" id="sneaker-size" class="form-control" placeholder="e.g., US 10, EU 44" required>
                </div>
                <div class="form-group">
                    <label for="sneaker-colorway">Colorway</label>
                    <input type="text" id="sneaker-colorway" class="form-control" placeholder="e.g., Chicago, Zebra" required>
                </div>
                <div class="form-group">
                    <label>Upload Photos</label>
                    <div class="upload-section">
                        <div class="upload-box">
                            <input type="file" id="left-side-upload" accept="image/*">
                            <div class="upload-icon">
                                <i class="fas fa-camera"></i>
                            </div>
                            <div class="upload-label">Left Side</div>
                            <div class="upload-hint">Clear photo of the left side</div>
                            <div class="preview-container" id="left-side-preview"></div>
                        </div>
                        <div class="upload-box">
                            <input type="file" id="right-side-upload" accept="image/*">
                            <div class="upload-icon">
                                <i class="fas fa-camera"></i>
                            </div>
                            <div class="upload-label">Right Side</div>
                            <div class="upload-hint">Clear photo of the right side</div>
                            <div class="preview-container" id="right-side-preview"></div>
                        </div>
                        <div class="upload-box">
                            <input type="file" id="sole-upload" accept="image/*">
                            <div class="upload-icon">
                                <i class="fas fa-camera"></i>
                            </div>
                            <div class="upload-label">Sole</div>
                            <div class="upload-hint">Clear photo of the sole</div>
                            <div class="preview-container" id="sole-preview"></div>
                        </div>
                    </div>
                </div>

                <button type="submit" id="submit-verification-btn" class="btn btn-primary" style="width: 100%;">Submit for Authentication (2 Credits)</button>
            </form>
        </section>

        <!-- Buy Credits Page -->
        <section id="buy-credits" class="page">
            <h2>Buy Authentication Credits</h2>
            <p>Purchase credits to authenticate your sneakers. Each authentication requires 2 credits.</p>

            <div class="currency-selector">
                <div class="currency-option active" data-currency="USD">USD ($)</div>
                <div class="currency-option" data-currency="KES">KES (Ksh)</div>
            </div>

            <div class="credit-packages">
                <div class="credit-package" data-credits="10" data-price-usd="20" data-price-kes="2600">
                    <div class="credit-amount">10</div>
                    <div class="credit-label">Credits</div>
                    <div class="credit-price" id="price1">$20</div>
                    <div class="credit-discount">$2 per credit</div>
                </div>
                <div class="credit-package" data-credits="25" data-price-usd="45" data-price-kes="5850">
                    <div class="credit-amount">25</div>
                    <div class="credit-label">Credits</div>
                    <div class="credit-price" id="price2">$45</div>
                    <div class="credit-discount">$1.80 per credit (10% off)</div>
                </div>
                <div class="credit-package" data-credits="50" data-price-usd="80" data-price-kes="10400">
                    <div class="credit-amount">50</div>
                    <div class="credit-label">Credits</div>
                    <div class="credit-price" id="price3">$80</div>
                    <div class="credit-discount">$1.60 per credit (20% off)</div>
                </div>
                <div class="credit-package" data-credits="100" data-price-usd="150" data-price-kes="19500">
                    <div class="credit-amount">100</div>
                    <div class="credit-label">Credits</div>
                    <div class="credit-price" id="price4">$150</div>
                    <div class="credit-discount">$1.50 per credit (25% off)</div>
                </div>
            </div>

            <div class="form-group">
                <label>Select Payment Method</label>
                <div class="payment-options">
                    <div class="payment-option" data-payment="mpesa">
                        <div class="payment-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h4>M-Pesa</h4>
                        <p>Mobile Money</p>
                    </div>
                    <div class="payment-option" data-payment="crypto">
                        <div class="payment-icon">
                            <i class="fab fa-bitcoin"></i>
                        </div>
                        <h4>Cryptocurrency</h4>
                        <p>BTC, ETH, USDC</p>
                    </div>
                    <div class="payment-option" data-payment="paypal">
                        <div class="payment-icon">
                            <i class="fab fa-paypal"></i>
                        </div>
                        <h4>PayPal</h4>
                        <p>Credit/Debit Card</p>
                    </div>
                </div>
            </div>

            <div class="payment-method-details" id="paymentMethodDetails">
                <!-- M-Pesa Payment Details -->
                <div class="mpesa-details" id="mpesaDetails">
                    <h4>Pay with M-Pesa</h4>
                    <p>Follow these steps to complete your payment:</p>
                    <ol style="margin-left: 1.5rem; margin-top: 1rem;">
                        <li>Go to M-Pesa on your phone</li>
                        <li>Select "Lipa na M-Pesa"</li>
                        <li>Select "Pay Bill"</li>
                        <li>Enter Business Number: <strong>123456</strong></li>
                        <li>Enter Account Number: <strong><span id="mpesaAccountNumber">SV12345</span></strong></li>
                        <li>Enter Amount: <strong><span id="mpesaAmount">Ksh 2,600</span></strong></li>
                        <li>Enter your M-Pesa PIN and confirm</li>
                    </ol>
                    <div class="form-group" style="margin-top: 1.5rem;">
                        <label for="mpesaCode">Enter M-Pesa Transaction Code</label>
                        <input type="text" id="mpesaCode" class="form-control" placeholder="e.g., QWE12345XYZ">
                    </div>
                </div>

                <!-- Crypto Payment Details -->
                <div class="crypto-details" id="cryptoDetails">
                    <h4>Pay with Cryptocurrency</h4>
                    <div class="form-group">
                        <label>Select Cryptocurrency</label>
                        <div style="display: flex; gap: 1rem; margin-top: 0.5rem;">
                            <div class="currency-option active" data-crypto="btc">Bitcoin (BTC)</div>
                            <div class="currency-option" data-crypto="eth">Ethereum (ETH)</div>
                            <div class="currency-option" data-crypto="usdc">USDC</div>
                        </div>
                    </div>
                    <div class="qr-container">
                        <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=bitcoin:bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh" alt="Crypto QR Code" id="cryptoQR">
                    </div>
                    <div class="crypto-address" id="cryptoAddress">
                        bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh
                    </div>
                    <p style="text-align: center;">
                        Send <strong><span id="cryptoAmount">0.00083 BTC</span></strong> to the address above
                    </p>
                    <p style="text-align: center; margin-top: 0.5rem; font-size: 0.9rem; opacity: 0.8;">
                        Your credits will be added automatically once the transaction is confirmed
                    </p>
                </div>

                <!-- PayPal Payment Details -->
                <div class="paypal-details" id="paypalDetails">
                    <h4>Pay with PayPal</h4>
                    <p>You'll be redirected to PayPal to complete your payment securely.</p>
                    <div class="form-group" style="margin-top: 1.5rem;">
                        <label for="paypalEmail">Confirm your email</label>
                        <input type="email" id="paypalEmail" class="form-control" placeholder="your@email.com">
                    </div>
                    <div style="text-align: center; margin-top: 1.5rem;">
                        <img src="https://www.paypalobjects.com/webstatic/en_US/i/buttons/checkout-logo-large.png" alt="PayPal Checkout" style="max-width: 250px;">
                    </div>
                </div>
            </div>

            <button id="purchaseCreditsBtn" class="btn btn-primary" style="width: 100%; margin-top: 2rem;">Complete Purchase</button>
        </section>

        <!-- Dashboard Page -->
        <section id="dashboard" class="page">
            <h2>Your Dashboard</h2>
            <p>Track your authentication requests and manage your account.</p>

            <div class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-value" id="creditsValue">0</div>
                    <div class="stat-label">Available Credits</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="pendingValue">0</div>
                    <div class="stat-label">Pending Authentications</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="completedValue">0</div>
                    <div class="stat-label">Completed Authentications</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="certificatesValue">0</div>
                    <div class="stat-label">Blockchain Certificates</div>
                </div>
            </div>

            <div class="authentication-history">
                <h3>Recent Authentication Requests</h3>
                <div id="historyList">
                    <!-- History items will be dynamically added here -->
                </div>
            </div>
        </section>

        <!-- Certificates Page -->
        <section id="certificates" class="page">
            <h2>Your Authentication Certificates</h2>
            <p>View and share your Hedera blockchain-secured authentication certificates.</p>

            <div id="certificatesList">
                <!-- Certificate items will be dynamically added here -->
            </div>

            <div class="certificate-viewer" id="certificateViewer" style="display: none;">
                <div class="certificate-header">
                    <h3>Authentication Certificate</h3>
                    <p>Verified on <span id="certDate">March 15, 2023</span></p>
                </div>

                <div class="certificate-details">
                    <div class="certificate-detail">
                        <label>Sneaker Brand</label>
                        <p id="certBrand">Nike</p>
                    </div>
                    <div class="certificate-detail">
                        <label>Model</label>
                        <p id="certModel">Air Jordan 1 High OG</p>
                    </div>
                    <div class="certificate-detail">
                        <label>Size</label>
                        <p id="certSize">US 10</p>
                    </div>
                    <div class="certificate-detail">
                        <label>Authentication ID</label>
                        <p id="certId">AUTH-12345-XYZ</p>
                    </div>
                </div>

                <div class="verification-seal">
                    <i class="fas fa-certificate seal-icon"></i>
                    <p class="seal-text">Verified Authentic</p>
                </div>

                <div class="qr-code">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://sneakerverify.com/cert/AUTH-12345-XYZ" alt="Certificate QR Code">
                </div>

                <div class="certificate-images">
                    <div class="certificate-image">
                        <img src="/placeholder.svg?height=150&width=150" alt="Sneaker Image 1">
                    </div>
                    <div class="certificate-image">
                        <img src="/placeholder.svg?height=150&width=150" alt="Sneaker Image 2">
                    </div>
                    <div class="certificate-image">
                        <img src="/placeholder.svg?height=150&width=150" alt="Sneaker Image 3">
                    </div>
                </div>

                <div class="blockchain-info">
                    <h4>Hedera Blockchain Information</h4>
                    <div class="blockchain-data">
                        <p>Network: Hedera Mainnet</p>
                        <p>Token ID: <span id="blockchainTokenId">0.0.12345</span></p>
                        <p>Transaction ID: <span id="blockchainTxId">0.0.654321@1234567890.000000000</span></p>
                        <p>Consensus Timestamp: <span id="blockchainTimestamp">1234567890.000000000</span></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Page -->
        <section id="profile" class="page">
            <div class="profile-container">
                <div class="profile-header">
                    <div class="profile-avatar" id="profileAvatar">JD</div>
                    <div class="profile-info">
                        <h2 id="profileName">John Doe</h2>
                        <p id="profileEmail">john@example.com</p>
                        <p>Member since <span id="profileJoinDate">January 1, 2023</span></p>
                    </div>
                </div>

                <div class="profile-section">
                    <h3>Account Information</h3>
                    <form id="profileForm">
                        <div class="form-group">
                            <label for="profileFullName">Full Name</label>
                            <input type="text" id="profileFullName" class="form-control" value="John Doe">
                        </div>
                        <div class="form-group">
                            <label for="profileEmailInput">Email</label>
                            <input type="email" id="profileEmailInput" class="form-control" value="john@example.com">
                        </div>
                        <div class="form-group">
                            <label for="profilePhone">Phone Number</label>
                            <input type="tel" id="profilePhone" class="form-control" placeholder="+1 (123) 456-7890">
                        </div>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </form>
                </div>

                <div class="profile-section">
                    <h3>Security</h3>
                    <form id="securityForm">
                        <div class="form-group">
                            <label for="currentPassword">Current Password</label>
                            <input type="password" id="currentPassword" class="form-control" placeholder="">
                        </div>
                        <div class="form-group">
                            <label for="newPassword">New Password</label>
                            <input type="password" id="newPassword" class="form-control" placeholder="">
                        </div>
                        <div class="form-group">
                            <label for="confirmNewPassword">Confirm New Password</label>
                            <input type="password" id="confirmNewPassword" class="form-control" placeholder="">
                        </div>
                        <button type="submit" class="btn btn-primary">Update Password</button>
                    </form>
                </div>

                <div class="profile-section">
                    <h3>Payment Methods</h3>
                    <div class="settings-option">
                        <div>
                            <h4><i class="fas fa-mobile-alt" style="margin-right: 0.5rem;"></i> M-Pesa</h4>
                            <p>+254 712 345 678</p>
                        </div>
                        <button class="btn btn-outline">Edit</button>
                    </div>
                    <div class="settings-option">
                        <div>
                            <h4><i class="fab fa-paypal" style="margin-right: 0.5rem;"></i> PayPal</h4>
                            <p>john@example.com</p>
                        </div>
                        <button class="btn btn-outline">Edit</button>
                    </div>
                    <button class="btn btn-primary" style="margin-top: 1rem;">Add Payment Method</button>
                </div>

                <div class="profile-section">
                    <h3>Settings</h3>
                    <div class="settings-option">
                        <div>
                            <h4>Email Notifications</h4>
                            <p>Receive email updates about your authentications</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-option">
                        <div>
                            <h4>Two-Factor Authentication</h4>
                            <p>Add an extra layer of security to your account</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-option">
                        <div>
                            <h4>Dark Mode</h4>
                            <p>Switch between light and dark themes</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="darkModeToggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Payment Confirmation Modal -->
    <div class="modal-overlay" id="paymentConfirmationModal">
        <div class="modal">
            <button class="modal-close" id="closePaymentConfirmationModal">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header">
                <h3>Payment Successful</h3>
            </div>
            <div style="text-align: center; margin-bottom: 2rem;">
                <div style="font-size: 4rem; color: var(--success); margin-bottom: 1rem;">
                    <i class="fas fa-check-circle"></i>
                </div>
                <p>Your payment has been processed successfully.</p>
                <p style="margin-top: 1rem;"><strong><span id="creditsPurchased">25</span> credits</strong> have been added to your account.</p>
            </div>
            <button id="confirmPaymentBtn" class="btn btn-primary" style="width: 100%;">Continue</button>
        </div>
    </div>

    <script>
        // SneakerVerifier class - AI-driven verification process
        class SneakerVerifier {
            constructor() {
                this.images = {
                    leftSide: null,
                    rightSide: null,
                    sole: null
                };
                this.sneakerDetails = {
                    brand: '',
                    model: '',
                    size: '',
                    colorway: ''
                };
                this.verificationResults = null;
            }

            setImage(type, imageData) {
                if (!['leftSide', 'rightSide', 'sole'].includes(type)) {
                    throw new Error('Invalid image type. Must be leftSide, rightSide, or sole.');
                }
                this.images[type] = imageData;
                return this;
            }

            setSneakerDetails(brand, model, size, colorway) {
                this.sneakerDetails.brand = brand;
                this.sneakerDetails.model = model;
                this.sneakerDetails.size = size;
                this.sneakerDetails.colorway = colorway;
                return this;
            }

            async verify() {
                // Check if all required images are provided
                if (!this.images.leftSide || !this.images.rightSide || !this.images.sole) {
                    throw new Error('All three images (leftSide, rightSide, sole) are required for verification.');
                }

                // Check if sneaker details are provided
                if (!this.sneakerDetails.brand || !this.sneakerDetails.model) {
                    throw new Error('Sneaker brand and model are required for verification.');
                }

                // Simulate AI processing delay
                await new Promise(resolve => setTimeout(resolve, 3000));

                // For testing purposes, generate random verification results
                const isAuthentic = Math.random() > 0.3; // 70% chance of being authentic
                const confidenceScore = isAuthentic ? 
                    Math.floor(Math.random() * 15) + 85 : // 85-99% for authentic
                    Math.floor(Math.random() * 30) + 40;  // 40-69% for fake

                // Generate analysis points based on authenticity
                const analysisPoints = this.generateAnalysisPoints(isAuthentic);

                // Create verification result
                this.verificationResults = {
                    isAuthentic,
                    confidenceScore,
                    analysisPoints,
                    timestamp: new Date().toISOString(),
                    verificationId: 'VRF-' + Math.random().toString(36).substr(2, 8).toUpperCase()
                };

                return this.verificationResults;
            }

            generateAnalysisPoints(isAuthentic) {
                const authenticPoints = [
                    "Stitching pattern matches authentic reference samples",
                    "Material quality consistent with manufacturer standards",
                    "Logo placement and proportions are correct",
                    "Barcode and serial number validated against database",
                    "Sole pattern and texture match authentic design"
                ];
                
                const fakePoints = [
                    "Irregular stitching pattern detected",
                    "Material quality inconsistent with authentic samples",
                    "Logo placement slightly off-center",
                    "Barcode does not match official database records",
                    "Color shade varies from authentic reference"
                ];
                
                // Add brand-specific points
                if (this.sneakerDetails.brand.toLowerCase() === 'nike') {
                    authenticPoints.push("Nike swoosh shape and proportions are correct");
                    fakePoints.push("Nike swoosh shape has irregular curves");
                } else if (this.sneakerDetails.brand.toLowerCase() === 'adidas') {
                    authenticPoints.push("Adidas three stripes spacing is consistent with authentic pairs");
                    fakePoints.push("Adidas three stripes spacing is inconsistent");
                } else if (this.sneakerDetails.brand.toLowerCase() === 'jordan') {
                    authenticPoints.push("Jumpman logo proportions match authentic reference");
                    fakePoints.push("Jumpman logo has incorrect proportions");
                }
                
                // Return appropriate points based on authenticity
                if (isAuthentic) {
                    // Return 3-5 random authentic points
                    return this.shuffleArray(authenticPoints).slice(0, Math.floor(Math.random() * 3) + 3);
                } else {
                    // Return 2-4 random fake points
                    return this.shuffleArray(fakePoints).slice(0, Math.floor(Math.random() * 3) + 2);
                }
            }

            shuffleArray(array) {
                const newArray = [...array];
                for (let i = newArray.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                }
                return newArray;
            }

            getResults() {
                if (!this.verificationResults) {
                    throw new Error('No verification results available. Run verify() first.');
                }
                return this.verificationResults;
            }

            generateCertificate() {
                if (!this.verificationResults || !this.verificationResults.isAuthentic) {
                    throw new Error('Cannot generate certificate for non-authentic or unverified sneakers.');
                }

                // Generate certificate ID
                const certificateId = 'CERT-' + Math.random().toString(36).substr(2, 9).toUpperCase();
                
                // Generate mock Hedera token ID
                const tokenId = '0.0.' + Math.floor(Math.random() * 1000000);
                
                // Generate mock transaction ID
                const transactionId = '0.0.' + Math.floor(Math.random() * 1000000) + '@' + Math.floor(Date.now() / 1000);
                
                // Create certificate object
                const certificate = {
                    id: certificateId,
                    verificationId: this.verificationResults.verificationId,
                    tokenId: tokenId,
                    transactionId: transactionId,
                    sneakerDetails: this.sneakerDetails,
                    images: this.images,
                    issuedAt: new Date().toISOString(),
                    issuer: 'SneakerVerify Platform'
                };

                return certificate;
            }
        }

        // Store uploaded images
        const uploadedImages = {
            leftSide: null,
            rightSide: null,
            sole: null
        };

        // Global variables
        let currentUser = null;
        let verifier = new SneakerVerifier();
        let selectedCreditPackage = null;
        let selectedPaymentMethod = null;
        let currentCurrency = 'USD';
        let currentCrypto = 'btc';

        // DOM Elements
        const themeToggle = document.getElementById('themeToggle');
        const darkModeToggle = document.getElementById('darkModeToggle');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.getElementById('navLinks');
        const navLinkElements = document.querySelectorAll('.nav-link');
        const pages = document.querySelectorAll('.page');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const userProfile = document.getElementById('userProfile');
        const userDropdown = document.getElementById('userDropdown');
        const profileBtn = document.getElementById('profileBtn');
        const settingsBtn = document.getElementById('settingsBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const headerCredits = document.getElementById('headerCredits');
        const authPageCredits = document.getElementById('authPageCredits');
        const userAvatar = document.getElementById('userAvatar');
        const buyCreditsBtn = document.getElementById('buyCreditsBtn');
        const authForm = document.getElementById('authForm');
        const historyList = document.getElementById('historyList');
        const certificatesList = document.getElementById('certificatesList');
        const currencyOptions = document.querySelectorAll('.currency-option');
        const creditPackages = document.querySelectorAll('.credit-package');
        const paymentOptions = document.querySelectorAll('.payment-option');
        const paymentMethodDetails = document.getElementById('paymentMethodDetails');
        const mpesaDetails = document.getElementById('mpesaDetails');
        const cryptoDetails = document.getElementById('cryptoDetails');
        const paypalDetails = document.getElementById('paypalDetails');
        const purchaseCreditsBtn = document.getElementById('purchaseCreditsBtn');
        const paymentConfirmationModal = document.getElementById('paymentConfirmationModal');
        const closePaymentConfirmationModal = document.getElementById('closePaymentConfirmationModal');
        const confirmPaymentBtn = document.getElementById('confirmPaymentBtn');
        const creditsPurchased = document.getElementById('creditsPurchased');
        const profileForm = document.getElementById('profileForm');
        const securityForm = document.getElementById('securityForm');
        const profileAvatar = document.getElementById('profileAvatar');
        const profileName = document.getElementById('profileName');
        const profileEmail = document.getElementById('profileEmail');
        const profileJoinDate = document.getElementById('profileJoinDate');
        const profileFullName = document.getElementById('profileFullName');
        const profileEmailInput = document.getElementById('profileEmailInput');
        const profilePhone = document.getElementById('profilePhone');

        // Multi-step authentication elements
        const authSteps = document.getElementById('authSteps');
        const step1Circle = document.getElementById('step1Circle');
        const step2Circle = document.getElementById('step2Circle');
        const step3Circle = document.getElementById('step3Circle');
        const step1Content = document.getElementById('step1Content');
        const step2Content = document.getElementById('step2Content');
        const step3Content = document.getElementById('step3Content');
        const verifyOtpBtn = document.getElementById('verifyOtpBtn');
        const resendOtp = document.getElementById('resendOtp');
        const completeAuthBtn = document.getElementById('completeAuthBtn');
        const otpInputs = document.querySelectorAll('.otp-input');

        // Initialize verification module
        function initVerification() {
            console.log("Initializing verification module...");
            
            // Set up image upload buttons
            document.querySelectorAll('.upload-box').forEach(box => {
                const inputId = box.querySelector('input[type="file"]').id;
                const previewId = inputId.replace('upload', 'preview');
                
                box.addEventListener('click', () => {
                    document.getElementById(inputId).click();
                });
            });
            
            // Set up image upload change events
            const leftUpload = document.getElementById('left-side-upload');
            const rightUpload = document.getElementById('right-side-upload');
            const soleUpload = document.getElementById('sole-upload');
            
            console.log("Upload elements found:", 
                leftUpload ? "Left " : "Left ", 
                rightUpload ? "Right " : "Right ", 
                soleUpload ? "Sole " : "Sole ");
            
            if (leftUpload) leftUpload.addEventListener('change', handleImageUpload);
            if (rightUpload) rightUpload.addEventListener('change', handleImageUpload);
            if (soleUpload) soleUpload.addEventListener('change', handleImageUpload);
            
            // Set up verification submission
            document.getElementById('submit-verification-btn').addEventListener('click', submitVerification);
        }

        // Initialize buy credits module
        function initBuyCredits() {
            // Currency selector
            currencyOptions.forEach(option => {
                option.addEventListener('click', () => {
                    // Skip if clicking on crypto currency options
                    if (option.hasAttribute('data-crypto')) return;
                    
                    // Update currency options
                    currencyOptions.forEach(opt => {
                        if (!opt.hasAttribute('data-crypto')) {
                            opt.classList.remove('active');
                        }
                    });
                    option.classList.add('active');
                    
                    // Set current currency
                    currentCurrency = option.getAttribute('data-currency');
                    
                    // Update prices
                    updatePrices();
                });
            });
            
            // Crypto currency selector
            document.querySelectorAll('[data-crypto]').forEach(option => {
                option.addEventListener('click', () => {
                    // Update crypto currency options
                    document.querySelectorAll('[data-crypto]').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    option.classList.add('active');
                    
                    // Set current crypto
                    currentCrypto = option.getAttribute('data-crypto');
                    
                    // Update crypto details
                    updateCryptoDetails();
                });
            });
            
            // Credit packages
            creditPackages.forEach(pkg => {
                pkg.addEventListener('click', () => {
                    creditPackages.forEach(p => p.classList.remove('active'));
                    pkg.classList.add('active');
                    
                    const credits = parseInt(pkg.getAttribute('data-credits'));
                    let price;
                    
                    if (currentCurrency === 'USD') {
                        price = parseInt(pkg.getAttribute('data-price-usd'));
                        selectedCreditPackage = { credits, price, currency: 'USD', symbol: '$' };
                    } else if (currentCurrency === 'KES') {
                        price = parseInt(pkg.getAttribute('data-price-kes'));
                        selectedCreditPackage = { credits, price, currency: 'KES', symbol: 'Ksh ' };
                    }
                    
                    // Update payment details
                    updatePaymentDetails();
                });
            });
            
            // Payment options
            paymentOptions.forEach(option => {
                option.addEventListener('click', () => {
                    paymentOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    
                    selectedPaymentMethod = option.getAttribute('data-payment');
                    
                    // Show payment method details
                    showPaymentMethodDetails();
                });
            });
            
            // Purchase credits button
            purchaseCreditsBtn.addEventListener('click', purchaseCredits);
            
            // Payment confirmation modal
            closePaymentConfirmationModal.addEventListener('click', () => {
                paymentConfirmationModal.classList.remove('active');
            });
            
            confirmPaymentBtn.addEventListener('click', () => {
                paymentConfirmationModal.classList.remove('active');
                showPage('dashboard');
            });
            
            // Initialize with defaults
            updatePrices();
        }

        // Initialize multi-step authentication
        function initMultiStepAuth() {
            // OTP input handling
            otpInputs.forEach((input, index) => {
                input.addEventListener('keyup', (e) => {
                    // Move to next input if value is entered
                    if (input.value.length === 1 && index < otpInputs.length - 1) {
                        otpInputs[index + 1].focus();
                    }
                    
                    // Handle backspace
                    if (e.key === 'Backspace' && index > 0 && input.value.length === 0) {
                        otpInputs[index - 1].focus();
                    }
                });
                
                // Prevent non-numeric input
                input.addEventListener('keypress', (e) => {
                    if (isNaN(parseInt(e.key))) {
                        e.preventDefault();
                    }
                });
            });
            
            // Verify OTP button
            verifyOtpBtn.addEventListener('click', () => {
                // Get OTP value
                const otp = Array.from(otpInputs).map(input => input.value).join('');
                
                // Validate OTP (for demo, any 6-digit code works)
                if (otp.length === 6) {
                    // Move to step 3
                    goToAuthStep(3);
                } else {
                    alert('Please enter a valid 6-digit code');
                }
            });
            
            // Resend OTP
            resendOtp.addEventListener('click', (e) => {
                e.preventDefault();
                alert('A new verification code has been sent to your email');
            });
            
            // Complete authentication
            completeAuthBtn.addEventListener('click', () => {
                // Set current user (for demo)
                if (!currentUser) {
                    const name = document.getElementById('registerName').value || 'John Doe';
                    const email = document.getElementById('registerEmail').value || 'john@example.com';
                    
                    currentUser = {
                        id: 'user_' + Date.now(),
                        name,
                        email,
                        credits: 10,
                        createdAt: new Date().toISOString()
                    };
                    
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    updateUserUI();
                }
                
                // Navigate to dashboard
                showPage('dashboard');
            });
            
            // Login form
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                // For demo, go to step 2
                goToAuthStep(2);
            });
            
            // Register form
            registerForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                // Validate passwords
                const password = document.getElementById('registerPassword').value;
                const confirmPassword = document.getElementById('registerConfirmPassword').value;
                
                if (password !== confirmPassword) {
                    alert('Passwords do not match');
                    return;
                }
                
                // For demo, go to step 2
                goToAuthStep(2);
            });
        }

        // Go to authentication step
        function goToAuthStep(step) {
            // Update step circles
            step1Circle.classList.remove('active', 'completed');
            step2Circle.classList.remove('active', 'completed');
            step3Circle.classList.remove('active', 'completed');
            
            if (step === 1) {
                step1Circle.classList.add('active');
            } else if (step === 2) {
                step1Circle.classList.add('completed');
                step2Circle.classList.add('active');
            } else if (step === 3) {
                step1Circle.classList.add('completed');
                step2Circle.classList.add('completed');
                step3Circle.classList.add('active');
            }
            
            // Show step content
            step1Content.classList.add('hidden');
            step2Content.classList.add('hidden');
            step3Content.classList.add('hidden');
            
            if (step === 1) {
                step1Content.classList.remove('hidden');
            } else if (step === 2) {
                step2Content.classList.remove('hidden');
            } else if (step === 3) {
                step3Content.classList.remove('hidden');
            }
        }

        // Update prices based on currency
        function updatePrices() {
            creditPackages.forEach(pkg => {
                const credits = pkg.getAttribute('data-credits');
                const priceUSD = pkg.getAttribute('data-price-usd');
                const priceKES = pkg.getAttribute('data-price-kes');
                
                const priceElement = pkg.querySelector('.credit-price');
                const discountElement = pkg.querySelector('.credit-discount');
                
                if (currentCurrency === 'USD') {
                    priceElement.textContent = `$${priceUSD}`;
                    const perCredit = (priceUSD / credits).toFixed(2);
                    if (credits === '10') {
                        discountElement.textContent = `$${perCredit} per credit`;
                    } else if (credits === '25') {
                        discountElement.textContent = `$${perCredit} per credit (10% off)`;
                    } else if (credits === '50') {
                        discountElement.textContent = `$${perCredit} per credit (20% off)`;
                    } else {
                        discountElement.textContent = `$${perCredit} per credit (25% off)`;
                    }
                } else if (currentCurrency === 'KES') {
                    priceElement.textContent = `Ksh ${priceKES}`;
                    const perCredit = (priceKES / credits).toFixed(0);
                    if (credits === '10') {
                        discountElement.textContent = `Ksh ${perCredit} per credit`;
                    } else if (credits === '25') {
                        discountElement.textContent = `Ksh ${perCredit} per credit (10% off)`;
                    } else if (credits === '50') {
                        discountElement.textContent = `Ksh ${perCredit} per credit (20% off)`;
                    } else {
                        discountElement.textContent = `Ksh ${perCredit} per credit (25% off)`;
                    }
                }
            });
            
            // Update payment details if a package is selected
            if (selectedCreditPackage) {
                updatePaymentDetails();
            }
        }

        // Update crypto details
        function updateCryptoDetails() {
            if (!selectedCreditPackage) return;
            
            // Get crypto amount based on USD price
            let cryptoAmount, cryptoAddress, qrData;
            
            if (currentCrypto === 'btc') {
                // 1 BTC = $40,000 (example rate)
                cryptoAmount = (selectedCreditPackage.price / 40000).toFixed(8);
                cryptoAddress = 'bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh';
                qrData = `bitcoin:${cryptoAddress}?amount=${cryptoAmount}`;
            } else if (currentCrypto === 'eth') {
                // 1 ETH = $2,000 (example rate)
                cryptoAmount = (selectedCreditPackage.price / 2000).toFixed(6);
                cryptoAddress = '0x742d35Cc6634C0532925a3b844Bc454e4438f44e';
                qrData = `ethereum:${cryptoAddress}?value=${cryptoAmount}`;
            } else if (currentCrypto === 'usdc') {
                // 1 USDC = $1
                cryptoAmount = selectedCreditPackage.price.toFixed(2);
                cryptoAddress = '0x742d35Cc6634C0532925a3b844Bc454e4438f44e';
                qrData = `ethereum:${cryptoAddress}?value=${cryptoAmount}`;
            }
            
            // Update UI
            document.getElementById('cryptoAmount').textContent = `${cryptoAmount} ${currentCrypto.toUpperCase()}`;
            document.getElementById('cryptoAddress').textContent = cryptoAddress;
            document.getElementById('cryptoQR').src = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(qrData)}`;
        }

        // Show payment method details
        function showPaymentMethodDetails() {
            if (!selectedCreditPackage || !selectedPaymentMethod) {
                paymentMethodDetails.classList.remove('active');
                return;
            }
            
            paymentMethodDetails.classList.add('active');
            
            // Hide all payment details
            mpesaDetails.classList.remove('active');
            cryptoDetails.classList.remove('active');
            paypalDetails.classList.remove('active');
            
            // Show selected payment details
            if (selectedPaymentMethod === 'mpesa') {
                mpesaDetails.classList.add('active');
                document.getElementById('mpesaAmount').textContent = currentCurrency === 'KES' ? 
                    `Ksh ${selectedCreditPackage.price.toLocaleString()}` : 
                    `Ksh ${(selectedCreditPackage.price * 130).toLocaleString()}`;
                document.getElementById('mpesaAccountNumber').textContent = `SV${Math.floor(Math.random() * 100000)}`;
            } else if (selectedPaymentMethod === 'crypto') {
                cryptoDetails.classList.add('active');
                updateCryptoDetails();
            } else if (selectedPaymentMethod === 'paypal') {
                paypalDetails.classList.add('active');
                document.getElementById('paypalEmail').value = currentUser ? currentUser.email : '';
            }
        }

        // Update payment details
        function updatePaymentDetails() {
            if (!selectedCreditPackage) return;
            
            // Update payment method details if selected
            if (selectedPaymentMethod) {
                showPaymentMethodDetails();
            }
        }

        // Purchase credits
        function purchaseCredits() {
            if (!selectedCreditPackage) {
                alert('Please select a credit package');
                return;
            }
            
            if (!selectedPaymentMethod) {
                alert('Please select a payment method');
                return;
            }
            
            // For demo purposes, simulate payment processing
            setTimeout(() => {
                // Add credits to user
                if (currentUser) {
                    currentUser.credits += selectedCreditPackage.credits;
                    
                    // Update in localStorage
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    
                    // Update UI
                    updateCreditDisplay();
                    
                    // Show confirmation modal
                    creditsPurchased.textContent = selectedCreditPackage.credits;
                    paymentConfirmationModal.classList.add('active');
                } else {
                    alert('Please log in to purchase credits');
                    showPage('auth');
                }
            }, 1500);
        }

        // Image compression function
        function compressImage(dataUrl, quality = 0.5) {
            return new Promise((resolve) => {
                const img = new Image();
                img.onload = function() {
                    // Create a canvas element
                    const canvas = document.createElement('canvas');
                    
                    // Calculate new dimensions (max 800px width/height)
                    let width = img.width;
                    let height = img.height;
                    const maxDimension = 800;
                    
                    if (width > height && width > maxDimension) {
                        height = Math.round(height * (maxDimension / width));
                        width = maxDimension;
                    } else if (height > maxDimension) {
                        width = Math.round(width * (maxDimension / height));
                        height = maxDimension;
                    }
                    
                    // Set canvas dimensions to the new size
                    canvas.width = width;
                    canvas.height = height;
                    
                    // Draw the image on the canvas with the new dimensions
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0, width, height);
                    
                    // Get the compressed image as a data URL
                    const compressedDataUrl = canvas.toDataURL('image/jpeg', quality);
                    
                    // Log compression stats
                    const originalSize = Math.round(dataUrl.length / 1024);
                    const compressedSize = Math.round(compressedDataUrl.length / 1024);
                    console.log(`Image compressed from ${originalSize}KB to ${compressedSize}KB (${Math.round((compressedSize/originalSize)*100)}%)`);
                    
                    resolve(compressedDataUrl);
                };
                img.src = dataUrl;
            });
        }

        // Handle image upload with compression
        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const inputId = event.target.id;
            const previewId = inputId.replace('upload', 'preview');
            
            // Determine image type
            let imageType;
            if (inputId === 'left-side-upload') {
                imageType = 'leftSide';
            } else if (inputId === 'right-side-upload') {
                imageType = 'rightSide';
            } else if (inputId === 'sole-upload') {
                imageType = 'sole';
            }
            
            console.log("Input ID:", inputId, "Image Type:", imageType);
            
            // Read file as data URL
            const reader = new FileReader();
            reader.onload = function(e) {
                // Compress the image before storing
                compressImage(e.target.result, 0.5).then(compressedImage => {
                    // Store compressed image data
                    uploadedImages[imageType] = compressedImage;
                    
                    // Update the verifier with the image
                    verifier.setImage(imageType, compressedImage);
                    
                    console.log("Stored compressed image for:", imageType);
                    
                    // Update preview
                    const previewElement = document.getElementById(previewId);
                    previewElement.innerHTML = '';
                    
                    const img = document.createElement('img');
                    img.src = compressedImage;
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'contain';
                    previewElement.appendChild(img);
                });
            };
            
            reader.readAsDataURL(file);
        }

        // Submit verification
        function submitVerification(e) {
            e.preventDefault();
            
            // Check if user is logged in
            if (!currentUser) {
                showPage('auth');
                return;
            }
            
            // Debug what images we have
            console.log("Checking uploaded images:");
            console.log("leftSide:", uploadedImages.leftSide ? "Present" : "Missing");
            console.log("rightSide:", uploadedImages.rightSide ? "Present" : "Missing");
            console.log("sole:", uploadedImages.sole ? "Present" : "Missing");
            
            // Check if all images are uploaded
            const leftPreview = document.getElementById('left-side-preview');
            const rightPreview = document.getElementById('right-side-preview');
            const solePreview = document.getElementById('sole-preview');
            
            const hasLeftImage = leftPreview.querySelector('img') !== null;
            const hasRightImage = rightPreview.querySelector('img') !== null;
            const hasSoleImage = solePreview.querySelector('img') !== null;
            
            if (!hasLeftImage || !hasRightImage || !hasSoleImage) {
                alert('Please upload all required images');
                return;
            }
            
            // Get sneaker details
            const brand = document.getElementById('sneaker-brand').value;
            const model = document.getElementById('sneaker-model').value;
            const size = document.getElementById('sneaker-size').value;
            const colorway = document.getElementById('sneaker-colorway').value;
            
            // Validate form
            if (!brand || !model || !size || !colorway) {
                alert('Please fill in all sneaker details');
                return;
            }
            
            // Check if user has enough credits
            if (currentUser.credits < 2) {
                alert('You need at least 2 credits to verify a sneaker. Please purchase more credits.');
                showPage('buy-credits');
                return;
            }
            
            // Set sneaker details in verifier
            verifier.setSneakerDetails(brand, model, size, colorway);
            
            // Process verification
            processVerification();
        }

        // Process verification (using SneakerVerifier)
        async function processVerification() {
            try {
                // Perform verification
                const results = await verifier.verify();
                
                // Deduct credits
                deductCreditsFromUser(currentUser.id, 2);
                
                // Store verification result
                storeVerificationResult(results);
                
                // Navigate to dashboard
                showPage('dashboard');
                
                // Update dashboard
                loadDashboard();
                
                // Show success message
                alert(`Verification completed! Result: ${results.isAuthentic ? 'Authentic' : 'Not Authentic'}`);
            } catch (error) {
                console.error("Verification error:", error);
                alert('Error during verification: ' + error.message);
            }
        }

        // Store verification result
        function storeVerificationResult(results) {
            // Create verification object
            const verification = {
                id: results.verificationId,
                userId: currentUser.id,
                brand: verifier.sneakerDetails.brand,
                model: verifier.sneakerDetails.model,
                size: verifier.sneakerDetails.size,
                colorway: verifier.sneakerDetails.colorway,
                status: results.isAuthentic ? 'verified' : 'rejected',
                timestamp: results.timestamp,
                confidenceScore: results.confidenceScore,
                analysisPoints: results.analysisPoints
            };
            
            // Store in localStorage
            const verifications = JSON.parse(localStorage.getItem('verifications') || '[]');
            verifications.push(verification);
            localStorage.setItem('verifications', JSON.stringify(verifications));
            
            // If authentic, create certificate
            if (results.isAuthentic) {
                try {
                    const certificate = verifier.generateCertificate();
                    
                    // Store certificate in localStorage
                    const certificates = JSON.parse(localStorage.getItem('certificates') || '[]');
                    certificates.push(certificate);
                    localStorage.setItem('certificates', JSON.stringify(certificates));
                } catch (error) {
                    console.error("Certificate generation error:", error);
                }
            }
        }

        // Theme Toggle
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const icon = themeToggle.querySelector('i');
            if (document.body.classList.contains('dark-mode')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
                localStorage.setItem('theme', 'dark');
                if (darkModeToggle) darkModeToggle.checked = true;
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
                localStorage.setItem('theme', 'light');
                if (darkModeToggle) darkModeToggle.checked = false;
            }
        }

        // Check for saved theme preference
        if (localStorage.getItem('theme') === 'dark') {
            document.body.classList.add('dark-mode');
            const icon = themeToggle.querySelector('i');
            icon.classList.remove('fa-moon');
            icon.classList.add('fa-sun');
            if (darkModeToggle) darkModeToggle.checked = true;
        }

        themeToggle.addEventListener('click', toggleTheme);
        if (darkModeToggle) {
            darkModeToggle.addEventListener('change', toggleTheme);
        }

        // Mobile Menu Toggle
        mobileMenuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });

        // Navigation
        navLinkElements.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetPage = link.getAttribute('data-page');
                
                // Check if user is logged in
                if (!currentUser && targetPage !== 'home' && targetPage !== 'auth') {
                    showPage('auth');
                    return;
                }
                
                showPage(targetPage);
                
                // Close mobile menu if open
                navLinks.classList.remove('active');
                
                // Update URL hash
                window.location.hash = targetPage;
            });
        });

        function showPage(pageId) {
            // Hide all pages
            pages.forEach(page => {
                page.classList.remove('active');
            });
            
            // Show target page
            document.getElementById(pageId).classList.add('active');
        }

        // Handle URL hash on page load
        function handleHash() {
            const hash = window.location.hash.substring(1);
            if (hash && document.getElementById(hash)) {
                // Check if user is logged in
                if (!currentUser && hash !== 'home' && hash !== 'auth') {
                    showPage('auth');
                    return;
                }
                
                showPage(hash);
            }
        }

        window.addEventListener('load', handleHash);
        window.addEventListener('hashchange', handleHash);

        // Tab Switching
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                
                // Update active tab
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Update active content
                tabContents.forEach(content => content.classList.remove('active'));
                document.getElementById(tabId).classList.add('active');
            });
        });

        // User Profile Dropdown
        userProfile.addEventListener('click', () => {
            userDropdown.classList.toggle('active');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!userProfile.contains(e.target)) {
                userDropdown.classList.remove('active');
            }
        });

        // Profile button
        profileBtn.addEventListener('click', () => {
            showPage('profile');
            userDropdown.classList.remove('active');
        });

        // Settings button
        settingsBtn.addEventListener('click', () => {
            showPage('profile');
            userDropdown.classList.remove('active');
        });

        // Logout
        logoutBtn.addEventListener('click', () => {
            // Clear current user
            currentUser = null;
            localStorage.removeItem('currentUser');
            
            // Update UI
            updateUserUI();
            
            // Navigate to auth
            showPage('auth');
            
            // Reset auth steps
            goToAuthStep(1);
        });

        // Buy Credits Button
        buyCreditsBtn.addEventListener('click', () => {
            showPage('buy-credits');
        });

        // Deduct credits from user
        function deductCreditsFromUser(userId, amount) {
            // Update current user
            if (currentUser && currentUser.id === userId) {
                currentUser.credits -= amount;
                updateCreditDisplay();
            }
            
            // Update in localStorage
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.id === userId);
            if (userIndex !== -1) {
                users[userIndex].credits -= amount;
                localStorage.setItem('users', JSON.stringify(users));
            }
            
            // Update current user in localStorage
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
        }

        // Update Credit Display
        function updateCreditDisplay() {
            if (currentUser) {
                headerCredits.textContent = currentUser.credits;
                if (authPageCredits) authPageCredits.textContent = currentUser.credits;
                if (document.getElementById('creditsValue')) {
                    document.getElementById('creditsValue').textContent = currentUser.credits;
                }
            }
        }

        // Update User UI
        function updateUserUI() {
            if (currentUser) {
                // Show user profile
                userProfile.style.display = 'flex';
                
                // Update avatar with initials
                const initials = currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase();
                userAvatar.innerHTML = initials;
                
                // Update profile page if it exists
                if (profileAvatar) profileAvatar.innerHTML = initials;
                if (profileName) profileName.textContent = currentUser.name;
                if (profileEmail) profileEmail.textContent = currentUser.email;
                if (profileJoinDate) {
                    const joinDate = new Date(currentUser.createdAt);
                    profileJoinDate.textContent = joinDate.toLocaleDateString('en-US', { 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric' 
                    });
                }
                if (profileFullName) profileFullName.value = currentUser.name;
                if (profileEmailInput) profileEmailInput.value = currentUser.email;
                
                // Update credit display
                updateCreditDisplay();
                
                // Load dashboard data
                loadDashboard();
            } else {
                // Hide user profile
                userProfile.style.display = 'none';
            }
        }

        // Load Dashboard Data
        function loadDashboard() {
            if (!currentUser) return;
            
            // Load verifications from localStorage
            const verifications = JSON.parse(localStorage.getItem('verifications') || '[]');
            const userVerifications = verifications.filter(v => v.userId === currentUser.id);
            
            // Update stats
            if (document.getElementById('creditsValue')) {
                document.getElementById('creditsValue').textContent = currentUser.credits;
            }
            
            const pending = userVerifications.filter(v => v.status === 'processing').length;
            if (document.getElementById('pendingValue')) {
                document.getElementById('pendingValue').textContent = pending;
            }
            
            const completed = userVerifications.filter(v => v.status === 'verified' || v.status === 'rejected').length;
            if (document.getElementById('completedValue')) {
                document.getElementById('completedValue').textContent = completed;
            }
            
            // Count certificates
            const certificates = JSON.parse(localStorage.getItem('certificates') || '[]');
            const userCertificates = certificates.filter(c => userVerifications.some(v => v.id === c.verificationId));
            
            if (document.getElementById('certificatesValue')) {
                document.getElementById('certificatesValue').textContent = userCertificates.length;
            }
            
            // Populate history list
            if (historyList) {
                historyList.innerHTML = '';
                
                if (userVerifications.length === 0) {
                    historyList.innerHTML = '<p>No authentication requests yet.</p>';
                    return;
                }
                
                // Sort by timestamp (newest first)
                userVerifications.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
                
                userVerifications.forEach(verification => {
                    const historyItem = document.createElement('div');
                    historyItem.className = 'history-item';
                    
                    const statusClass = verification.status === 'processing' ? 'status-pending' : 
                                      verification.status === 'verified' ? 'status-verified' : 'status-rejected';
                    
                    const statusText = verification.status === 'processing' ? 'Processing' : 
                                     verification.status === 'verified' ? 'Authentic' : 'Not Authentic';
                    
                    historyItem.innerHTML = `
                        <div class="history-details">
                            <h4>${verification.brand} ${verification.model}</h4>
                            <p>ID: ${verification.id} | Size: ${verification.size}</p>
                            <p>Submitted: ${new Date(verification.timestamp).toLocaleString()}</p>
                        </div>
                        <div class="history-status ${statusClass}">
                            ${statusText}
                        </div>
                    `;
                    
                    historyList.appendChild(historyItem);
                });
            }
            
            // Populate certificates list
            if (certificatesList) {
                certificatesList.innerHTML = '';
                
                if (userCertificates.length === 0) {
                    certificatesList.innerHTML = '<p>No certificates available yet.</p>';
                    return;
                }
                
                // Sort by timestamp (newest first)
                userCertificates.sort((a, b) => new Date(b.issuedAt) - new Date(a.issuedAt));
                
                userCertificates.forEach(certificate => {
                    const certItem = document.createElement('div');
                    certItem.className = 'history-item';
                    
                    certItem.innerHTML = `
                        <div class="history-details">
                            <h4>${certificate.sneakerDetails.brand} ${certificate.sneakerDetails.model}</h4>
                            <p>Certificate ID: ${certificate.id}</p>
                            <p>Issued: ${new Date(certificate.issuedAt).toLocaleString()}</p>
                        </div>
                        <div class="btn btn-primary view-cert-btn">View Certificate</div>
                    `;
                    
                    certificatesList.appendChild(certItem);
                    
                    // Add click event to view certificate
                    const viewBtn = certItem.querySelector('.view-cert-btn');
                    viewBtn.addEventListener('click', () => {
                        viewCertificate(certificate);
                    });
                });
            }
        }

        // View Certificate
        function viewCertificate(certificate) {
            const certificateViewer = document.getElementById('certificateViewer');
            if (!certificateViewer) return;
            
            // Update certificate details
            document.getElementById('certDate').textContent = new Date(certificate.issuedAt).toLocaleDateString();
            document.getElementById('certBrand').textContent = certificate.sneakerDetails.brand;
            document.getElementById('certModel').textContent = certificate.sneakerDetails.model;
            document.getElementById('certSize').textContent = certificate.sneakerDetails.size;
            document.getElementById('certId').textContent = certificate.id;
            
            // Update blockchain info
            document.getElementById('blockchainTokenId').textContent = certificate.tokenId;
            document.getElementById('blockchainTxId').textContent = certificate.transactionId;
            document.getElementById('blockchainTimestamp').textContent = new Date(certificate.issuedAt).getTime() / 1000;
            
            // Show certificate viewer
            certificateViewer.style.display = 'block';
            
            // Scroll to certificate viewer
            certificateViewer.scrollIntoView({ behavior: 'smooth' });
        }

        // Profile form submission
        if (profileForm) {
            profileForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                if (!currentUser) return;
                
                // Update user details
                currentUser.name = profileFullName.value;
                currentUser.email = profileEmailInput.value;
                currentUser.phone = profilePhone.value;
                
                // Update in localStorage
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                // Update UI
                updateUserUI();
                
                alert('Profile updated successfully');
            });
        }

        // Security form submission
        if (securityForm) {
            securityForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                if (!currentUser) return;
                
                const currentPassword = document.getElementById('currentPassword').value;
                const newPassword = document.getElementById('newPassword').value;
                const confirmNewPassword = document.getElementById('confirmNewPassword').value;
                
                // Validate passwords
                if (newPassword !== confirmNewPassword) {
                    alert('New passwords do not match');
                    return;
                }
                
                // For demo purposes, just show success message
                alert('Password updated successfully');
                
                // Clear form
                securityForm.reset();
            });
        }

        // Mock Data Generation (for demo purposes)
        function generateMockData() {
            // Check if mock data already exists
            if (localStorage.getItem('mockDataGenerated')) {
                return;
            }
            
            // Generate mock users
            const mockUsers = [
                {
                    id: 'user_1',
                    name: 'John Doe',
                    email: 'john@example.com',
                    password: 'password',
                    credits: 24,
                    createdAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString()
                }
            ];
            
            localStorage.setItem('users', JSON.stringify(mockUsers));
            
            // Generate mock authentication requests
            const mockVerifications = [
                {
                    id: 'VRF-1234ABCD',
                    userId: 'user_1',
                    brand: 'Nike',
                    model: 'Air Jordan 1 High OG',
                    size: 'US 10',
                    colorway: 'Chicago',
                    status: 'verified',
                    timestamp: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
                    confidenceScore: 95,
                    analysisPoints: [
                        "Stitching pattern matches authentic reference samples",
                        "Material quality consistent with manufacturer standards",
                        "Logo placement and proportions are correct",
                        "Nike swoosh shape and proportions are correct"
                    ]
                },
                {
                    id: 'VRF-5678EFGH',
                    userId: 'user_1',
                    brand: 'Adidas',
                    model: 'Yeezy Boost 350 V2',
                    size: 'US 9.5',
                    colorway: 'Zebra',
                    status: 'processing',
                    timestamp: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString()
                }
            ];
            
            localStorage.setItem('verifications', JSON.stringify(mockVerifications));
            
            // Generate mock certificates
            const mockCertificates = [
                {
                    id: 'CERT-123456789',
                    verificationId: 'VRF-1234ABCD',
                    tokenId: '0.0.123456',
                    transactionId: '0.0.654321@1234567890.000000000',
                    sneakerDetails: {
                        brand: 'Nike',
                        model: 'Air Jordan 1 High OG',
                        size: 'US 10',
                        colorway: 'Chicago'
                    },
                    issuedAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000 + 3600000).toISOString(),
                    issuer: 'SneakerVerify Platform'
                }
            ];
            
            localStorage.setItem('certificates', JSON.stringify(mockCertificates));
            localStorage.setItem('mockDataGenerated', 'true');
        }

        // Check for logged in user
        function checkLoggedInUser() {
            const savedUser = localStorage.getItem('currentUser');
            
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUserUI();
                
                // If on auth page, redirect to home
                if (document.getElementById('auth').classList.contains('active')) {
                    showPage('home');
                }
            } else {
                // If not on auth or home page, redirect to auth
                const activePage = document.querySelector('.page.active');
                if (activePage && activePage.id !== 'auth' && activePage.id !== 'home') {
                    showPage('auth');
                }
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            generateMockData();
            checkLoggedInUser();
            initVerification();
            initBuyCredits();
            initMultiStepAuth();
        });
    </script>
</body>
</html>